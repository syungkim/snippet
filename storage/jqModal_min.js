/****************
 * jqModal
 * jQuery Custom LayerPopup
 * iam@syung.kr
 * update : 2014/02/06
 * version : 1.00
 *****************/
var ___ROOT_PAST_FOCUS_ELEM=null;!function(e){e.fn.jqModal=function(t){function o(){e("body").removeClass("modal-opened").off("touchmove"),a.focus(),f.hide()}function n(e){var t=e.find(".modal-dialog"),o=t.width(),n=t.height();t.css({marginTop:n/2*-1,marginLeft:o/2*-1})}var i,d,a=___ROOT_PAST_FOCUS_ELEM=e(this),f=e(t),u=[];f.find("*").each(function(e,t){t.tagName.match(/^A$|AREA|INPUT|TEXTAREA|SELECT|BUTTON/gim)&&-1!==parseInt(t.getAttribute("tabIndex"))&&u.push(t),null!==t.getAttribute("tabIndex")&&parseInt(t.getAttribute("tabIndex"))>=0&&32768!==t.getAttribute("tabIndex",2)&&u.push(t)}),i=u[0],d=u[u.length-1],e(document).on({keydown:function(t){var n=t.keyCode||t.which;27==n&&(o(),e(document).off("keydown"))}}),e(i).on({keydown:function(t){if(t.target==this){var o=t.keyCode||t.which;9==o&&t.shiftKey&&(e(d).focus(),t.preventDefault())}}}),e(d).on({keydown:function(t){var o=t.keyCode||t.which;9==o&&(t.shiftKey||(e(i).focus(),t.preventDefault()))}}),f.find("[data-dismiss='modal']").click(function(e){o(),e.preventDefault()}),f.show().find(e(i)).focus(),n(f),e("body").addClass("modal-opened").on("touchmove",function(e){e.preventDefault()})},e.jqModal_close=function(){var t=e(document).find(".modal:visible");t.each(function(){e("body").removeClass("modal-opened").off("touchmove"),___ROOT_PAST_FOCUS_ELEM.focus(),e(this).hide()})}}(jQuery);